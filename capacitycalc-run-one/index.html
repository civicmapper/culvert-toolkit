<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>The Capacity Calculator Workflow - Culvert Analysis Toolkit</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css">

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="..">Culvert Analysis Toolkit</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../install/" class="nav-link">Install</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Data Prep Guides <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../data-overview/" class="dropdown-item">Overview</a>
</li>
                                    
<li>
    <a href="../data-naacc-table/" class="dropdown-item">Working with NAACC Culvert Data</a>
</li>
                                    
<li>
    <a href="../data-dem/" class="dropdown-item">Digital Elevation Model-derived Data</a>
</li>
                                    
<li>
    <a href="../data-curve-number-raster/" class="dropdown-item">Generating a Curve Number Raster</a>
</li>
                                    
<li>
    <a href="../data-noaa-rainfall/" class="dropdown-item">Getting NOAA Rainfall Data</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Analysis Guides <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../analysis-overview/" class="dropdown-item">Toolbox Overview</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active">The Capacity Calculator Workflow</a>
</li>
                                    
<li>
    <a href="../capacitycalc-results/" class="dropdown-item">Working with Capacity Calculator Results</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Calculators <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../calcs-peak-flow/" class="dropdown-item">Peak Flow</a>
</li>
                                    
<li>
    <a href="../calcs-culvert-capacity/" class="dropdown-item">Culvert Capacity</a>
</li>
                                </ul>
                            </li>
                            <li class="navitem">
                                <a href="../dev/" class="nav-link">Develop</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../analysis-overview/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../capacitycalc-results/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#the-capacity-calculator-workflow" class="nav-link">The Capacity Calculator Workflow</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#data-preparation" class="nav-link">Data Preparation</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#tool-usage-arctoolbox" class="nav-link">Tool Usage (ArcToolbox)</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#results" class="nav-link">Results</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="3"><a href="#analyzed-culverts" class="nav-link">Analyzed culverts</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#delineated-catchment-areas" class="nav-link">Delineated catchment areas</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="the-capacity-calculator-workflow">The Capacity Calculator Workflow</h1>
<p>The NAACC Culvert Capacity tool measure the capacity of culverts to handle storm events using the TR-55 model. It does this by:</p>
<ul>
<li>calculating the capacity of the culvert(s) at a crossing</li>
<li>calculating peak flow at the culvert over a hydrologically corrected digital elevation model for 24 hour storm events with frequencies of 1 to 1000 years</li>
<li>comparing capacity of individual culverts and all culverts at a crossing to each peak-flow, and flagging the event at which the culverts and crossings exceed capacity.</li>
</ul>
<h2 id="data-preparation">Data Preparation</h2>
<p><img alt="" src="../assets/layer-stack.png" /></p>
<ol>
<li>Get and pre-process the NAACC table: <a href="../data-naacc-table/">Working with NAACC Culvert Data</a></li>
<li>Create (or get) Digital Elevation Model-derived rasters: flow direction, slope, and (optionally) flow length: <a href="../data-dem/">Digital Elevation Model-derived Data</a></li>
<li>Create (or get) a Curve Number raster: <a href="../data-curve-number-raster/">Generating a Curve Number Raster</a></li>
<li>Download rainfall data from NOAA: <a href="../data-noaa-rainfall/">Getting NOAA Rainfall Data</a></li>
</ol>
<p>Data Preparation processes are covered on the <a href="../data-overview/">Data Overview</a> page in more detail.</p>
<h2 id="tool-usage-arctoolbox">Tool Usage (ArcToolbox)</h2>
<p>The ArcToolbox implementation of the <strong>NAACC Capacity Calculator</strong> uses the inputs described above.</p>
<p><img alt="" src="../assets/calc-culvert-capacity-gp.png" /></p>
<p>Note that the Rainfall input isn't the rainfall rasters, but the configuration <code>JSON</code> file generated by the <strong>NOAA Rainfall Download</strong> tool.</p>
<p>The only <strong>output</strong> parameter is the location of the output point feature class that will include the analysis results. Note that from the name specified, the name for an additional polygon feature class is derived. More on outputs below.</p>
<h2 id="results">Results</h2>
<p><img alt="" src="../assets/layer-results-2.png" /></p>
<p>Two feature classes are produced by the calculator:</p>
<h3 id="analyzed-culverts">Analyzed culverts</h3>
<p>This is an outpoint point feature class, containing culvert records with capacity and peak flow analysis results.</p>
<p>This does not include all of the fields from the original NAACC table. Only those added during the NAACC table ingest process (see <a href="../data-naacc-table/#what-is-changed-in-the-data-by-this-tool">Working with NAACC Culvert Data</a>) and additional fields for the peak flow analysis are shown.</p>
<p>For the peak flow analysis, four new fields will be added for every storm event frequency modeled: 1, 2, 5, 10, 25, 50, 100, 200, 500, and 1000-year storms. The four new fields are:</p>
<ol>
<li><code>yX_culvert_peakflow_m3s</code>: peak flow at the culvert for that event</li>
<li><code>yX_culvert_overflow_m3s</code>: the culvert "overflow" for that event: how much the culvert is under or over capacity given peak flow. A negative number indicates that the culvert is under-capacity.</li>
<li><code>yX_crossing_peakflow_m3s</code>: crossing peak flow for that event</li>
<li><code>yX_crossing_overflow_m3s</code>: the crossing "overflow" for that event: how much all the culverts at the crossing are under or over capacity given peak flow to their common location. A negative number indicates that the crossing is under-capacity.</li>
</ol>
<p><code>X</code> stands in for the storm event frequency number. All values are in cubic meters/second.</p>
<h3 id="delineated-catchment-areas">Delineated catchment areas</h3>
<p>An output polygon feature class, containing delineation areas for each culvert, with all values derived from the input layers used for the peak flow analysis. This includes:</p>
<ul>
<li>area (square kilometers)</li>
<li>average rainfall (1000ths/inch) for each storm event frequency</li>
<li>average slope (%)</li>
<li>flow length (meters)</li>
</ul></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
