{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Culvert Analysis Toolkit This documentation is a work-in-progress The Culvert Analysis Toolkit is a collection of GIS tools designed to support analysis of culvert performance within their watershed. It uses a TR-55 Model and parameters derived from geospatial data to calculate peak-flow and culvert capacity. This software has been developed by CivicMapper in collaboration with GroundPoint Engineering , and encompasses work from a collaboration with the Cornell Soil & Water Lab (on GitHub @ github.com/SoilWaterLab ). See Credits/Contributors for more information. Getting Started Installation : get the Culvert Analysis Toolkit set up in ArcGIS Pro The Toolbox : an overview of the tools and what they do. Data Guides : walk-throughs of the types inputs the tool requires and how to prepare them Analysis Guide : using the tool and working with the results Who is this toolkit for? The toolkit is designed to support understanding the efficacy of stormwater culvert infrastructure at a broad scale for planning purposes. To that end, the tool has two audiences: Planners, who can use the outputs to support decision-making Analysts, who are able to run the tool in GIS software and are comforttable wrangling the spatial datasets that are required inputs of the tools What this toolkit is not This toolkit is not: a replacement for engineering tools like HEC-RAS or SWMM appropriate for supporting the design and engineering of indivdual culverts Credits/Contributors This software encompasses work originally developed by the Cornell Soil & Water Lab (on GitHub @ github.com/SoilWaterLab ) This repository represents an evolution of a previous effort, the Peak-Flow Calculator , which was a hard fork of the Water Lab's CulvertEvalution repository. Made in collaboration with the Cornell S&W lab, this repository includes additional updates to the science of the from CulvertModel_2.1 . Original peak flow analytics are based on the culvert evaluation model developed by Rebecca Marjerison at the Cornell Soil and Water Lab in 2013, as CulvertEvalution David Gold, python script development, August 4, 2015 Object-oriented structure and resiliency updates built by Noah Warnke, August 31 2016 (no formulas changed). Updated by Zoya Kaufmann June 2016 - August 2017 Merged with older versions by Tanvi Naidu June 19 2017 Fork, refactor, and creation of CLI and ArcMap interfaces by Christian Gass @ CivicMapper, Fall 2017, as peak-flow-calculator Updates for use within ArcGIS Pro by Christian Gass @ CivicMapper, Spring/Summer 2019, in peak-flow-calculator CulvertModel_2.1 by Jo Archibald in 2019 Drain-It repository by CivicMapper, 2021-2022","title":"Culvert Analysis Toolkit"},{"location":"#culvert-analysis-toolkit","text":"This documentation is a work-in-progress The Culvert Analysis Toolkit is a collection of GIS tools designed to support analysis of culvert performance within their watershed. It uses a TR-55 Model and parameters derived from geospatial data to calculate peak-flow and culvert capacity. This software has been developed by CivicMapper in collaboration with GroundPoint Engineering , and encompasses work from a collaboration with the Cornell Soil & Water Lab (on GitHub @ github.com/SoilWaterLab ). See Credits/Contributors for more information.","title":"Culvert Analysis Toolkit"},{"location":"#getting-started","text":"Installation : get the Culvert Analysis Toolkit set up in ArcGIS Pro The Toolbox : an overview of the tools and what they do. Data Guides : walk-throughs of the types inputs the tool requires and how to prepare them Analysis Guide : using the tool and working with the results","title":"Getting Started"},{"location":"#who-is-this-toolkit-for","text":"The toolkit is designed to support understanding the efficacy of stormwater culvert infrastructure at a broad scale for planning purposes. To that end, the tool has two audiences: Planners, who can use the outputs to support decision-making Analysts, who are able to run the tool in GIS software and are comforttable wrangling the spatial datasets that are required inputs of the tools","title":"Who is this toolkit for?"},{"location":"#what-this-toolkit-is-not","text":"This toolkit is not: a replacement for engineering tools like HEC-RAS or SWMM appropriate for supporting the design and engineering of indivdual culverts","title":"What this toolkit is not"},{"location":"#creditscontributors","text":"This software encompasses work originally developed by the Cornell Soil & Water Lab (on GitHub @ github.com/SoilWaterLab ) This repository represents an evolution of a previous effort, the Peak-Flow Calculator , which was a hard fork of the Water Lab's CulvertEvalution repository. Made in collaboration with the Cornell S&W lab, this repository includes additional updates to the science of the from CulvertModel_2.1 . Original peak flow analytics are based on the culvert evaluation model developed by Rebecca Marjerison at the Cornell Soil and Water Lab in 2013, as CulvertEvalution David Gold, python script development, August 4, 2015 Object-oriented structure and resiliency updates built by Noah Warnke, August 31 2016 (no formulas changed). Updated by Zoya Kaufmann June 2016 - August 2017 Merged with older versions by Tanvi Naidu June 19 2017 Fork, refactor, and creation of CLI and ArcMap interfaces by Christian Gass @ CivicMapper, Fall 2017, as peak-flow-calculator Updates for use within ArcGIS Pro by Christian Gass @ CivicMapper, Spring/Summer 2019, in peak-flow-calculator CulvertModel_2.1 by Jo Archibald in 2019 Drain-It repository by CivicMapper, 2021-2022","title":"Credits/Contributors"},{"location":"analysis-bp/","text":"Analysis Best Practices Using the tools; best practices for working with large datasets and basins Model Input Consideration Balancing DEM hydrologic and NAACC location-correctedness Full hydrologic correction of the DEM and re-locating of culverts with LIDAR and imagery snap culverts to available hydro steam lines, burn the lines into the DEMs Depends on the use case!","title":"Analysis Best Practices"},{"location":"analysis-bp/#analysis-best-practices","text":"Using the tools; best practices for working with large datasets and basins","title":"Analysis Best Practices"},{"location":"analysis-bp/#model-input-consideration","text":"Balancing DEM hydrologic and NAACC location-correctedness Full hydrologic correction of the DEM and re-locating of culverts with LIDAR and imagery snap culverts to available hydro steam lines, burn the lines into the DEMs Depends on the use case!","title":"Model Input Consideration"},{"location":"analysis-overview/","text":"Toolbox Overview The Culvert Analysis Toolkit is currently implemented as ArcToolbox for use in ArcGIS Pro Each tool in the toolbox contains built-in help text to explain tool functionality, inputs, and outputs. Summaries of tool usage follow. NOAA Rainfall Raster Data Downloader The NOAA Rainfall Raster Data Downloader does just that: it downloads rainfall rasters for your study area from NOAA's National Weather Service - Hydrometeorological Design Studies Center - Precipitation Frequency Data Server (PFDS) . By default, this tool acquires rainfall data for 24hr events for frequencies from 1 to 1000 years. All rasters are saved to a user-specified folder. This tool creates a precipitation source configuration JSON file in the output folder. The JSON file is used as a required input to other tools\u2014specifically those that calculate runoff/peak-flow. Note that NOAA Atlas 14 precip values are in 1000ths of an inch ; the capacity calculator an other tools convert the values to centimeters on-the-fly. NOAA rainfall rasters cover a large geographic area, so you may only need to use this tool occassionally. NAACC Table Ingest The NAACC Table Ingest tool will read in, validate, and extend a NAACC-compliant source table, saving the output as geodata (e.g., a file geodatabase feature class) for use in other culvert analysis tools, like the NAACC Culvert Capacity Calculator NAACC Culvert Capacity The NAACC Culvert Capacity tool measure the capacity of culverts to handle storm events using the TR-55 model. It does this by: calculating the capacity of the culvert(s) at a crossing calculating peak flow at the culvert over a hydrologically corrected digital elevation model for 24 hour storm events with frequencies of 1 to 1000 years comparing capacity of individual culverts and all culverts at a crossing to each peak-flow, and flagging the event at which the culverts and crossings exceed capacity. Culvert location data must be NAACC schema-compliant. Peak-Flow Calculator (planned; currently implemented with the NAACC Culvert Capacity tool) Calculate peak-flow for one or more points over a hydrologically corrected DEM. Points do not need comply with any predefined data model (such as NAACC).","title":"Toolbox Overview"},{"location":"analysis-overview/#toolbox-overview","text":"The Culvert Analysis Toolkit is currently implemented as ArcToolbox for use in ArcGIS Pro Each tool in the toolbox contains built-in help text to explain tool functionality, inputs, and outputs. Summaries of tool usage follow.","title":"Toolbox Overview"},{"location":"analysis-overview/#noaa-rainfall-raster-data-downloader","text":"The NOAA Rainfall Raster Data Downloader does just that: it downloads rainfall rasters for your study area from NOAA's National Weather Service - Hydrometeorological Design Studies Center - Precipitation Frequency Data Server (PFDS) . By default, this tool acquires rainfall data for 24hr events for frequencies from 1 to 1000 years. All rasters are saved to a user-specified folder. This tool creates a precipitation source configuration JSON file in the output folder. The JSON file is used as a required input to other tools\u2014specifically those that calculate runoff/peak-flow. Note that NOAA Atlas 14 precip values are in 1000ths of an inch ; the capacity calculator an other tools convert the values to centimeters on-the-fly. NOAA rainfall rasters cover a large geographic area, so you may only need to use this tool occassionally.","title":"NOAA Rainfall Raster Data Downloader"},{"location":"analysis-overview/#naacc-table-ingest","text":"The NAACC Table Ingest tool will read in, validate, and extend a NAACC-compliant source table, saving the output as geodata (e.g., a file geodatabase feature class) for use in other culvert analysis tools, like the NAACC Culvert Capacity Calculator","title":"NAACC Table Ingest"},{"location":"analysis-overview/#naacc-culvert-capacity","text":"The NAACC Culvert Capacity tool measure the capacity of culverts to handle storm events using the TR-55 model. It does this by: calculating the capacity of the culvert(s) at a crossing calculating peak flow at the culvert over a hydrologically corrected digital elevation model for 24 hour storm events with frequencies of 1 to 1000 years comparing capacity of individual culverts and all culverts at a crossing to each peak-flow, and flagging the event at which the culverts and crossings exceed capacity. Culvert location data must be NAACC schema-compliant.","title":"NAACC Culvert Capacity"},{"location":"analysis-overview/#peak-flow-calculator","text":"(planned; currently implemented with the NAACC Culvert Capacity tool) Calculate peak-flow for one or more points over a hydrologically corrected DEM. Points do not need comply with any predefined data model (such as NAACC).","title":"Peak-Flow Calculator"},{"location":"culvert-capacity/","text":"Culvert Capacity Calculator The Culvert Capacity Calculator analyzes how culverts perform within their watershed and reports out their capacity to handle storm events of increasing frequencies, and identifies the storms that might cause them to fail. It chains together capacity, peak-flow, and overflow analyses.","title":"Culvert Capacity Calculator"},{"location":"culvert-capacity/#culvert-capacity-calculator","text":"The Culvert Capacity Calculator analyzes how culverts perform within their watershed and reports out their capacity to handle storm events of increasing frequencies, and identifies the storms that might cause them to fail. It chains together capacity, peak-flow, and overflow analyses.","title":"Culvert Capacity Calculator"},{"location":"curve-number-raster/","text":"Generating a Curve Number Raster","title":"Generating a Curve Number Raster"},{"location":"curve-number-raster/#generating-a-curve-number-raster","text":"","title":"Generating a Curve Number Raster"},{"location":"data-overview/","text":"Overview Preparing data for use in the tools Get DEM, derive rasters Get Curve Number data Get Rainfall data Get NAACC data","title":"Overview"},{"location":"data-overview/#overview","text":"Preparing data for use in the tools Get DEM, derive rasters Get Curve Number data Get Rainfall data Get NAACC data","title":"Overview"},{"location":"dem-rasters/","text":"Digital Elevation Model-derived Data (Notes on Hydrologically-corrected Digital Elevation Models (DEMs))","title":"Digital Elevation Model-derived Data"},{"location":"dem-rasters/#digital-elevation-model-derived-data","text":"(Notes on Hydrologically-corrected Digital Elevation Models (DEMs))","title":"Digital Elevation Model-derived Data"},{"location":"dev-setup/","text":"Setup Anaconda Python and dependencies Development requires access to the arcpy library include with ArcGIS Pro, and a ArcGIS Pro-dervied Conda environment that includes the dependenices listed in setup\\requirements.txt","title":"Setup Anaconda Python and dependencies"},{"location":"dev-setup/#setup-anaconda-python-and-dependencies","text":"Development requires access to the arcpy library include with ArcGIS Pro, and a ArcGIS Pro-dervied Conda environment that includes the dependenices listed in setup\\requirements.txt","title":"Setup Anaconda Python and dependencies"},{"location":"dev/","text":"Developing the Toolkit Setup Anaconda Python and dependencies Development requires access to the arcpy library include with ArcGIS Pro, and a ArcGIS Pro-dervied Conda environment that includes the dependenices listed in setup\\requirements.txt Project Structure The project is structure so there is a fairly clear separation of concerns between the code that handles the science behind the calculators the geoprocessing tools used to derive spatial statistics from the various map layers the specific i/o requirements and interfaces expected in end-user workflows src/ The folder contains external-facing interfaces that use the drainit package. It includes: CulvertToolbox.pyt and associated xml metadata. legacy drainit.tbx file (replaced by CulvertToolbox.pyt ) tbx_*.py scripts, which are workflow-specific and map 1:1 with tools in the ArcGIS Pro toolbox drainit.tbx . src/drainit/ This is the top-level package. It contains a few scripts: workflows.py Contains the code for executing analytical workflows at the highest level of abstraction. A single workflow is represented by a single python class. All workflow classes inherit from a base class that contains properties and methods for reading/writing workflow state to a JSON configuration file. cli.py Command line interface to the scripting tools (WIP). config.py and settings.py Constants used for script execution. models.py Internal data models used throughout the package. calculators/ Module containing the science and business logic of the various calculators available in the package: runoff/peak flow culvert capacity services/ Scripts for interacting with third-party domain-specific data sources (e.g., NOAA rainfall data, NAACC culvert data) and geoprocessing tools (e.g., Esri ArcPy, Whitebox tools). gp/ Geoprocessing services designed on specific provider tools (e.g., ESRI, Whitebox) and exposed through a generic class that is called by the workflow tools. This ensures workflow.py can run GP tools without needing to know exactly what underlying geoprocessing library is being used. esri/ This folder contains the built ArcGIS Pro Python toolbox, its metadata, and an arcpy interface script. These are automatically created during the build process and do not need to be manually edited under normal circumstances. Scripts: noaa and naaccc These are data provider-specific scripts that do domain-specific work with specific data types. tests/ Integration tests for workflows and tasks within workflows.","title":"Develop"},{"location":"dev/#developing-the-toolkit","text":"","title":"Developing the Toolkit"},{"location":"dev/#setup-anaconda-python-and-dependencies","text":"Development requires access to the arcpy library include with ArcGIS Pro, and a ArcGIS Pro-dervied Conda environment that includes the dependenices listed in setup\\requirements.txt","title":"Setup Anaconda Python and dependencies"},{"location":"dev/#project-structure","text":"The project is structure so there is a fairly clear separation of concerns between the code that handles the science behind the calculators the geoprocessing tools used to derive spatial statistics from the various map layers the specific i/o requirements and interfaces expected in end-user workflows","title":"Project Structure"},{"location":"dev/#src","text":"The folder contains external-facing interfaces that use the drainit package. It includes: CulvertToolbox.pyt and associated xml metadata. legacy drainit.tbx file (replaced by CulvertToolbox.pyt ) tbx_*.py scripts, which are workflow-specific and map 1:1 with tools in the ArcGIS Pro toolbox drainit.tbx .","title":"src/"},{"location":"dev/#srcdrainit","text":"This is the top-level package. It contains a few scripts:","title":"src/drainit/"},{"location":"dev/#workflowspy","text":"Contains the code for executing analytical workflows at the highest level of abstraction. A single workflow is represented by a single python class. All workflow classes inherit from a base class that contains properties and methods for reading/writing workflow state to a JSON configuration file.","title":"workflows.py"},{"location":"dev/#clipy","text":"Command line interface to the scripting tools (WIP).","title":"cli.py"},{"location":"dev/#configpy-and-settingspy","text":"Constants used for script execution.","title":"config.py and settings.py"},{"location":"dev/#modelspy","text":"Internal data models used throughout the package.","title":"models.py"},{"location":"dev/#calculators","text":"Module containing the science and business logic of the various calculators available in the package: runoff/peak flow culvert capacity","title":"calculators/"},{"location":"dev/#services","text":"Scripts for interacting with third-party domain-specific data sources (e.g., NOAA rainfall data, NAACC culvert data) and geoprocessing tools (e.g., Esri ArcPy, Whitebox tools).","title":"services/"},{"location":"dev/#gp","text":"Geoprocessing services designed on specific provider tools (e.g., ESRI, Whitebox) and exposed through a generic class that is called by the workflow tools. This ensures workflow.py can run GP tools without needing to know exactly what underlying geoprocessing library is being used.","title":"gp/"},{"location":"dev/#esri","text":"This folder contains the built ArcGIS Pro Python toolbox, its metadata, and an arcpy interface script. These are automatically created during the build process and do not need to be manually edited under normal circumstances.","title":"esri/"},{"location":"dev/#scripts-noaa-and-naaccc","text":"These are data provider-specific scripts that do domain-specific work with specific data types.","title":"Scripts: noaa and naaccc"},{"location":"dev/#tests","text":"Integration tests for workflows and tasks within workflows.","title":"tests/"},{"location":"install/","text":"Installing in ArcGIS Pro The Culvert Analysis Toolkit currently requires ArcGIS Pro. 1. Create a dedicated Python environment in ArcGIS Pro To use the toolkit, you'll need to install it a custom Python environment for ArcGIS Pro. Clone the default ArcGIS Pro conda environment . Switch the current ArcGIS Pro conda environment to the cloned environment using the Python Package Manager . For more information on working with Python environments in ArcGIS Pro, see Esri's documentation . Once you've done this, close ArcGIS Pro. 2. Download the Culvert Analysis Toolkit installation file Download the latest install \"wheel\" here . 3. Install Now that you have the installation file and the custom Python environment, you can install the toolbox. ArcGIS Pro comes with a \"Python Command Prompt\" shortcut available, which runs a batch script that automatically starts a command prompt with ArcGIS Pro's active Conda environment available. Typically this gets added to your Windows Start Menu alongside the shortcut to ArcGIS Pro. Open the Python Command Prompt that came with your ArcGIS Pro installation. In the command prompt, run pip install \"<path-to-the-whl-file\\drainit.whl>\" . You'll replace \"<path-to-the-whl-file\\drainit.whl>\" with the full path to the wheel file you downloaded in the previous step. Include the quotes \" . Restart ArcGIS Pro. Open an existing or new project, and open the Geoprocessing you should see a Culvert Analysis Toolkit toolbox listed alongside other toolboxes in the ArcToolbox pane of ArcGIS Pro:","title":"Install"},{"location":"install/#installing-in-arcgis-pro","text":"The Culvert Analysis Toolkit currently requires ArcGIS Pro.","title":"Installing in ArcGIS Pro"},{"location":"install/#1-create-a-dedicated-python-environment-in-arcgis-pro","text":"To use the toolkit, you'll need to install it a custom Python environment for ArcGIS Pro. Clone the default ArcGIS Pro conda environment . Switch the current ArcGIS Pro conda environment to the cloned environment using the Python Package Manager . For more information on working with Python environments in ArcGIS Pro, see Esri's documentation . Once you've done this, close ArcGIS Pro.","title":"1. Create a dedicated Python environment in ArcGIS Pro"},{"location":"install/#2-download-the-culvert-analysis-toolkit-installation-file","text":"Download the latest install \"wheel\" here .","title":"2. Download the Culvert Analysis Toolkit installation file"},{"location":"install/#3-install","text":"Now that you have the installation file and the custom Python environment, you can install the toolbox. ArcGIS Pro comes with a \"Python Command Prompt\" shortcut available, which runs a batch script that automatically starts a command prompt with ArcGIS Pro's active Conda environment available. Typically this gets added to your Windows Start Menu alongside the shortcut to ArcGIS Pro. Open the Python Command Prompt that came with your ArcGIS Pro installation. In the command prompt, run pip install \"<path-to-the-whl-file\\drainit.whl>\" . You'll replace \"<path-to-the-whl-file\\drainit.whl>\" with the full path to the wheel file you downloaded in the previous step. Include the quotes \" . Restart ArcGIS Pro. Open an existing or new project, and open the Geoprocessing you should see a Culvert Analysis Toolkit toolbox listed alongside other toolboxes in the ArcToolbox pane of ArcGIS Pro:","title":"3. Install"},{"location":"naacc-table/","text":"Working with NAACC Culvert Data (Notes NAACC culvert data accuracy (spatial and temporal)) Initial Download and Clean-Up Download the XLSX file from NAACC Delete headers (first eight rows) Save as CSV Optionally: While the NAACC Table Ingest (described below) will flag records that aren't valid for capacity calculations, you may want to pair back to download to records of interest. You may want to remove certain types of culvert, e.g., bridges, fords, or ones that don't have any capacity measurements. Or, you may need to import this table into GIS, and move features to streams or flow lines on a digital elevation model. Regardless, as long as the NAACC schema is preserved, subsequent tools will be able to use it. Run the NAACC Table Ingest tool The NAACC Table Ingest tool will read in, validate, and extend a NAACC-compliant source table, saving the output as geodata (e.g., an Esri file geodatabase feature class). Use the prepared CSV above as an input. If you've imported that CSV to a file geodatabase feature class already, that feature class will also work. Optionally: Run the NAACC Data Snapping tool Depending on your needs, you may find that the location precision of the supplied NAACC data was not adequate compared to the accuracy of your hydrologically corrected DEM . In that case, you may have moved culverts manually or snapped points to streams. If you need to update your NAACC table with better location data in an external table, use the NAACC Data Snapping tool to update the input NAACC-compliant source table with locations from another table. (This tool basically runs a reverse 1-to-many join, replacing geometry in one or more feature class records with a single geometry from feature in a reference table using a column-based match)","title":"Working with NAACC Culvert Data"},{"location":"naacc-table/#working-with-naacc-culvert-data","text":"(Notes NAACC culvert data accuracy (spatial and temporal))","title":"Working with NAACC Culvert Data"},{"location":"naacc-table/#initial-download-and-clean-up","text":"Download the XLSX file from NAACC Delete headers (first eight rows) Save as CSV","title":"Initial Download and Clean-Up"},{"location":"naacc-table/#optionally","text":"While the NAACC Table Ingest (described below) will flag records that aren't valid for capacity calculations, you may want to pair back to download to records of interest. You may want to remove certain types of culvert, e.g., bridges, fords, or ones that don't have any capacity measurements. Or, you may need to import this table into GIS, and move features to streams or flow lines on a digital elevation model. Regardless, as long as the NAACC schema is preserved, subsequent tools will be able to use it.","title":"Optionally:"},{"location":"naacc-table/#run-the-naacc-table-ingest-tool","text":"The NAACC Table Ingest tool will read in, validate, and extend a NAACC-compliant source table, saving the output as geodata (e.g., an Esri file geodatabase feature class). Use the prepared CSV above as an input. If you've imported that CSV to a file geodatabase feature class already, that feature class will also work.","title":"Run the NAACC Table Ingest tool"},{"location":"naacc-table/#optionally-run-the-naacc-data-snapping-tool","text":"Depending on your needs, you may find that the location precision of the supplied NAACC data was not adequate compared to the accuracy of your hydrologically corrected DEM . In that case, you may have moved culverts manually or snapped points to streams. If you need to update your NAACC table with better location data in an external table, use the NAACC Data Snapping tool to update the input NAACC-compliant source table with locations from another table. (This tool basically runs a reverse 1-to-many join, replacing geometry in one or more feature class records with a single geometry from feature in a reference table using a column-based match)","title":"Optionally: Run the NAACC Data Snapping tool"},{"location":"noaa-rainfall/","text":"Getting NOAA Rainfall Data Location-specific rainfall measurements from NOAA are required inputs for the tool. Specifically: rainfall rasters from NOAA's National Weather Service - Hydrometeorological Design Studies Center - Precipitation Frequency Data Server (PFDS) are used to calculate average rainfall over the upstream contributing area to a culvert, which is used to calculate peak-flow at the culvert. The Culvert Analysis Toolkit includes a tool that automatically downloads the correct rasters for your area of interest: [analysis-overview/#noaa-rainfall-raster-data-downloader] and generates a file that is used as an input to other tools.","title":"Getting NOAA Rainfall Data"},{"location":"noaa-rainfall/#getting-noaa-rainfall-data","text":"Location-specific rainfall measurements from NOAA are required inputs for the tool. Specifically: rainfall rasters from NOAA's National Weather Service - Hydrometeorological Design Studies Center - Precipitation Frequency Data Server (PFDS) are used to calculate average rainfall over the upstream contributing area to a culvert, which is used to calculate peak-flow at the culvert. The Culvert Analysis Toolkit includes a tool that automatically downloads the correct rasters for your area of interest: [analysis-overview/#noaa-rainfall-raster-data-downloader] and generates a file that is used as an input to other tools.","title":"Getting NOAA Rainfall Data"},{"location":"peak-flow/","text":"Peak Flow Calculator Runoff peak discharge of given point's watershed is determined using the SCS graphical curve number method. For more information on this method, see Technical Release 55 .","title":"Peak Flow Calculator"},{"location":"peak-flow/#peak-flow-calculator","text":"Runoff peak discharge of given point's watershed is determined using the SCS graphical curve number method. For more information on this method, see Technical Release 55 .","title":"Peak Flow Calculator"},{"location":"run-batch/","text":"Batch Running the Capacity Calculator approaches for batching analysis for large areas","title":"Batch Running the Capacity Calculator"},{"location":"run-batch/#batch-running-the-capacity-calculator","text":"approaches for batching analysis for large areas","title":"Batch Running the Capacity Calculator"},{"location":"run-one/","text":"Running the Capacity Calculator","title":"Running the Capacity Calculator"},{"location":"run-one/#running-the-capacity-calculator","text":"","title":"Running the Capacity Calculator"},{"location":"toolbox/","text":"Toolbox The Culvert Analysis Toolkit is currently implemented as ArcToolbox for use in ArcGIS Pro Each tool in the toolbox contains built-in help text to explain tool functionality, inputs, and outputs. Summaries of tool usage follow. NOAA Rainfall Raster Data Downloader The NOAA Rainfall Raster Data Downloader does just that: it downloads rainfall rasters for your study area from NOAA's National Weather Service - Hydrometeorological Design Studies Center - Precipitation Frequency Data Server (PFDS) . By default, this tool acquires rainfall data for 24hr events for frequencies from 1 to 1000 years. All rasters are saved to a user-specified folder. This tool creates a precipitation source configuration JSON file in the output folder. The JSON file is used as a required input to other tools\u2014specifically those that calculate runoff/peak-flow. Note that NOAA Atlas 14 precip values are in 1000ths of an inch ; the capacity calculator an other tools convert the values to centimeters on-the-fly. NOAA rainfall rasters cover a large geographic area, so you may only need to use this tool occassionally. NAACC Table Ingest The NAACC Table Ingest tool will read in, validate, and extend a NAACC-compliant source table, saving the output as geodata (e.g., a file geodatabase feature class) for use in other culvert analysis tools, like the NAACC Culvert Capacity Calculator NAACC Culvert Capacity The NAACC Culvert Capacity tool measure the capacity of culverts to handle storm events using the TR-55 model. It does this by: calculating the capacity of the culvert(s) at a crossing calculating peak flow at the culvert over a hydrologically corrected digital elevation model for 24 hour storm events with frequencies of 1 to 1000 years comparing capacity of individual culverts and all culverts at a crossing to each peak-flow, and flagging the event at which the culverts and crossings exceed capacity. Culvert location data must be NAACC schema-compliant. Peak-Flow Calculator (planned; currently implemented with the NAACC Culvert Capacity tool) Calculate peak-flow for one or more points over a hydrologically corrected DEM. Points do not need comply with any predefined data model (such as NAACC).","title":"Toolbox"},{"location":"toolbox/#toolbox","text":"The Culvert Analysis Toolkit is currently implemented as ArcToolbox for use in ArcGIS Pro Each tool in the toolbox contains built-in help text to explain tool functionality, inputs, and outputs. Summaries of tool usage follow.","title":"Toolbox"},{"location":"toolbox/#noaa-rainfall-raster-data-downloader","text":"The NOAA Rainfall Raster Data Downloader does just that: it downloads rainfall rasters for your study area from NOAA's National Weather Service - Hydrometeorological Design Studies Center - Precipitation Frequency Data Server (PFDS) . By default, this tool acquires rainfall data for 24hr events for frequencies from 1 to 1000 years. All rasters are saved to a user-specified folder. This tool creates a precipitation source configuration JSON file in the output folder. The JSON file is used as a required input to other tools\u2014specifically those that calculate runoff/peak-flow. Note that NOAA Atlas 14 precip values are in 1000ths of an inch ; the capacity calculator an other tools convert the values to centimeters on-the-fly. NOAA rainfall rasters cover a large geographic area, so you may only need to use this tool occassionally.","title":"NOAA Rainfall Raster Data Downloader"},{"location":"toolbox/#naacc-table-ingest","text":"The NAACC Table Ingest tool will read in, validate, and extend a NAACC-compliant source table, saving the output as geodata (e.g., a file geodatabase feature class) for use in other culvert analysis tools, like the NAACC Culvert Capacity Calculator","title":"NAACC Table Ingest"},{"location":"toolbox/#naacc-culvert-capacity","text":"The NAACC Culvert Capacity tool measure the capacity of culverts to handle storm events using the TR-55 model. It does this by: calculating the capacity of the culvert(s) at a crossing calculating peak flow at the culvert over a hydrologically corrected digital elevation model for 24 hour storm events with frequencies of 1 to 1000 years comparing capacity of individual culverts and all culverts at a crossing to each peak-flow, and flagging the event at which the culverts and crossings exceed capacity. Culvert location data must be NAACC schema-compliant.","title":"NAACC Culvert Capacity"},{"location":"toolbox/#peak-flow-calculator","text":"(planned; currently implemented with the NAACC Culvert Capacity tool) Calculate peak-flow for one or more points over a hydrologically corrected DEM. Points do not need comply with any predefined data model (such as NAACC).","title":"Peak-Flow Calculator"}]}