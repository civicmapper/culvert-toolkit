# Culvert test data

* `test_naacc_sample.csv` - a large complete sample NAACC CSV file. Used for ETL tests; synced with `naacc.gdb/test_naacc_sample`. Hand-faked to include various scenarios that are of interest in the testing and training.
* `naacc_points.csv`, `naacc_points_valid.csv`, `naacc_points_invalid.csv` - output of NAACC ingest tool. not currently used as inputs to tests.
* `naacc.gdb`
  * `test_naacc_sample` - synced with `test_naacc_sample.csv`. Used for ETL tests.
  * `naacc_points` - output of the NAACC ingest tool. Used to test NAACC snapping tool.
  * `naacc_crossings_snapped` - hand-faked from `naacc_points` to represent flowline-snapped point. Used to test NAACC snapping tool.
  * `naacc_points_snapped` - output of the NAACC snapping tool. Used to test Capacity and Peak Flow tools.

## Creating test culvert/crossing data

It's easier to do create test-specific situations with the data in ArcGIS Pro, but this means we need to work backwards to generate the "original" input CSV table for testing purposes, such that testing is can be consistent from end-to-end.

1. CRUD `naacc.gdb/naacc_points` in ArcGIS Pro
2. CRUD corresponding `naacc.gdb/naacc_crossings_snapped` as necessary
3. save `naacc.gdb/naacc_points` as `naacc.gdb/test_naacc_sample`
4. removed CTK-specific fields from `naacc.gdb/test_naacc_sample`
5. update the standard NAACC lat/lng fields to reflect GIS locations
6. export `naacc.gdb/test_naacc_sample` to `test_naacc_sample.csv`

If it makes sense at this point, you can re-run the NAACC ingest tests in order, and bring the temp data generated by each one into the testing geodatabase.
